{% extends 'base.html.twig' %}

{% block title %}Program{% endblock %}

{% block body %}
    <h1>Program</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ program.id }}</td>
            </tr>
            <tr>
                <th>Title</th>

                <td>
                    {{ program.title }}
                    <i id="watchlist" class="{{ app.user.isInWatchlist(program) ? 'fas' : 'far' }} fa-heart watchlist" data-href=”{{path('program_watchlist', {'id': program.id})}}”></i>
                </td>

            </tr>

            <tr>
                <th>Summary</th>
                <td>{{ program.summary }}</td>
            </tr>
            <tr>
                <th>Poster</th>
                <td><img src="{{ program.poster }}" width="20%"></td>
            </tr>
        </tbody>
    </table>

    <strong>Acteur :</strong>
    <ul>
        {% for actor in program.actors %}
            <a class="btn btn-primary" href="{{ path('actor_show', {'slug': actor.slug}) }}">{{ actor.lastname }}, {{ actor.firstname }} </a>
        {% else %}
            <li>Aucun acteur pour cette série</li>
        {% endfor %}
    </ul>

    <a class="btn btn-secondary" href="{{ path('program_index') }}">back to list</a>

    {% if is_granted('ROLE_ADMIN') %}
        <a class="btn btn-secondary" href="{{ path('program_edit', {'slug': program.slug}) }}">edit</a>
        {{ include('program/_delete_form.html.twig') }}
    {% endif %}
{% endblock %}
